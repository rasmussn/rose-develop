<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
   <!-- --------------------------------------------------------------------------------------------------------------------------->
   <a name="mkinstaller"></a>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
      <meta name="GENERATOR" content="arg 1.7.1">
      <link rel="shortcut icon" href="../../icons/myShortcutIcon.png">
      <title>mkinstaller - Generate self-extracting installer.</title>
   </head>
   <body>
      <h3>
         <center>
            <nobr>
               mkinstaller (rev. 2.5.4)
            </nobr>
         </center>
      </h3>

      <h3>
         NAME
      </h3>
      <blockquote>
         <i>mkinstaller</i>&nbsp;-&nbsp;Generate self-extracting installer.
      </blockquote>

      <h3>
         SYNOPSIS
      </h3>
      <blockquote>
         <b>mkinstaller</b> <b>--copyright</b>
      </blockquote>
      <blockquote>
         <b>mkinstaller</b> <b>--help</b>
      </blockquote>
      <blockquote>
         <b>mkinstaller</b> <b>--html</b>&nbsp;&nbsp;<span style="font-family:'Times New Roman'; font-size: 125%;"><i>pathname</i></span>
      </blockquote>
      <blockquote>
         <b>mkinstaller</b> <b>--vernum</b>
      </blockquote>
      <blockquote>
         <b>mkinstaller</b> <b>--version</b>
      </blockquote>
      <br>
      <blockquote>
         <b>mkinstaller</b>
         <big>[</big><span style="font-family:'Times New Roman'; font-size: 125%;"><i>options</i></span> ...<big>]</big>
         <span style="font-family:'Times New Roman'; font-size: 125%;"><i>pathname</i></span> ...
      </blockquote>
      <br>

      <h3>
         DESCRIPTION
      </h3>
      <blockquote>
         This script is used to generate an "installer" script implemented as
         a Bourne-shell script on UNIX-like systems (such as Linux, MacOS, or
         Solaris) or as a binary executable on Windows-like systems. A wide
         assortment of options are provided by <i>mkinstaller</i> to specify what is
         to be included for installation by the generated installer script.
         This generated installer itself supports a number of options for
         specifying the where the various directories are to be installed
         (prefix directory pathnames).
      </blockquote>

      <blockquote>
         There are 2 separate computer systems involved in this process:
         <blockquote>
            <ol>
               <li>The <b>source</b> system. This is where the software to be installed
                   is found and where the <i>mkinstaller</i> script (the generator) is
                   used.
               </li>
               <li>The <b>target</b> system. This is where the generated installer
                   script is run, where the software is to be installed.
               </li>
            </ol>
         </blockquote>
         There are 3 pieces of software involved:
         <blockquote>
            <ol>
               <li>The software to be installed. This is the software (binaries
                   and/or text) located on the <b>source</b> system whose components
                   have been built and is deemed ready for distribution.
               </li>
               <li>The <i>mkinstaller</i> script. Note that on a Windows-like host
                   the <i>NSIS</i> software must be properly installed. <i>NSIS</i> will not
                   be required on the <b>target</b> system.
               <li>The generated installer script. On a UNIX-like host this is
                   the Bourne-shell script generated by the <i>mkinstaller</i> script.
                   On a Windows-like host this is a binary executable (a <b><big><code>.exe</code></big></b>
                   file) that is generated by the <i>mkinstaller</i> script using the
                   <i>NSIS</i> package under the covers.
               </li>
            </ol>
         </blockquote>
         There are 4 distinct phases or times involved in this process:
         <blockquote>
            <ol>
               <li><b>Build-time</b>. This is the time when the software (binaries
                   and/or text files) is built and installed on the <b>source</b system.
                   How this software is built and installed is not discussed here.
               </li>
               <li><b>Generation-time</b>. This is the time when <i>mkinstaller</i> is used
                   to collect the software that was produced in phase 1 and generate
                   the installer script. Like phase 1, this is also done on the
                   <b>source</b> system.
               </li>
               <li><b>Transport</b>. This is the process of taking a copy of the
                   generated installer script that was produced in phase 2 from
                   the <b>source</b> system to the <b>target</b> system. The details of this
                   are not discussed here howerver such transport generally
                   involves <i>scp</i>, <i>ftp</i>, <i>curl</i>, CD, DVD, USB-drive, or a download from
                   a web site.
               </li>
               <li><b>Installation-time</b>. This is the time when the installer
                   script that was generated in phase 2 is executed on the <b>target</b>
                   system.
                   script that was generated by <i>mkinstaller</i> in phase 2 is executed
                   on the <b>target</b> system.
               </li>
            </ol>
         </blockquote>
      </blockquote>

      <blockquote>
         <b>UNIX-like Host</b>
         <blockquote>
            On a UNIX-like host such as Linux, MacOS, or Solaris the generated
            installer script is implemented as a self-extracting Bourne-shell
            script carrying a tarball as a payload. Note that <i>mkinstaller</i>
            requires <i>tar</i> on UNIX-like hosts. This is normally not a problem
            as almost every UNIX-like system provides <i>tar</i>. On some UNIX-like
            hosts (most notably Solaris) <i>tar</i> doesn't support compression. On
            such systems mkinstaller will require <i>gzcat</i> and <i>gzip</i> to support
            compression.
         </blockquote>
         <blockquote>
            The installation process on a UNIX-like target system is done by
            simply running the generated installer script using the <b><big><code>--prefix</code></big></b>
            option to supply the installation directory. For example:
            <blockquote>
                <b><big><code>./banana-installer -v --prefix=/opt/banana</code></big></b>
            </blockquote>
            Note that on UNIX-like hosts the <b><big><code>--prefix=</code></big></b><i>pathname</i> option isn't
            really optional, it is required. Also note that use of the <b><big><code>-v</code></big></b>
            option (verbose mode) is recommended as the generated installer
            normally produces no output other than remarks, warnings, and/or
            error messages.
         </blockquote>
         <b>Windows-like Host</b>
         <blockquote>
            On a Windows-like host (such as Windows 7 or Windows 10) the
            generated installer is implemented as a binary executable which
            is actually generated under the covers by <i>NSIS</i> (Nullsoft Scripted
            Install System). <i>NSIS</i> is required by <i>mkinstaller</i> on Windows-like
            hosts. Note that <i>NSIS</i> is open source and is freely available at:
            <blockquote>
               <a href="https://sourceforge.net/projects/nsis"><b><big><code>https://sourceforge.net/projects/nsis</code></big></b></a>
            </blockquote>
         </blockquote>
         <blockquote>
            The installation process on a Windows-like target system is done by
            simply running the generated installer binary executable. Unlike an
            installer produced for UNIX-like hosts, an installer for Windows-like
            hosts may perform the installation to a default location; the user's
            desktop:
            <blockquote>
              <b><big><code>banana-installer.exe</code></big></b>
            </blockquote>
            To specify an installation prefix the <b><big><code>/D=</code></big></b><i>pathname</i> option may be used:
            <blockquote>
              <b><big><code>banana-installer.exe /D=E:\opt\banana</code></big></b>
            </blockquote>
         </blockquote>
      </blockquote>

      <h3>
         OPTIONS
      </h3>
      <blockquote>
         <i>mkinstaller</i> supports the following options:
         <blockquote>

            <b>--copyright</b>
            <blockquote>
               Output copyright and license to <i>stdout</i> and quit.
            </blockquote>

            <b>--help</b>
            <blockquote>
               Output this man page to <i>stdout</i> and quit.
            </blockquote>

            <b>--html</b>&nbsp;&nbsp;<i>pathname</i>
            <blockquote>
               Output this man page as HTML to the given file pathname and quit.
            </blockquote>

            <b>--vernum</b>
            <blockquote>
               Output version number to <i>stdout</i> and quit.
            </blockquote>

            <b>--version</b>
            <blockquote>
               Output version number and revision date to <i>stdout</i> and quit.
            </blockquote>

            <b>-c</b> <i>name</i> <br>
            <b>--create=</b><i>name</i>
            <blockquote>
               The name of the script to generate. It is generally not advisable
               to include a suffix (aka. extension) as part of the script name.
               Also note that this is <i>not</i> a pathname, is is the simple name of
               the script file which is to be created in the current directory.
               By default the script will be named "installer".
            </blockquote>

            <b>--cc=</b><i>name</i>
            <blockquote>
               This option has been obsoleted. Use <b><big><code>CC=</code></big></b><i>name</i> and <b><big><code>CC-options=</code></big></b><i>string</i>
               instead.
            </blockquote>

            <b>--cxx=</b><i>name</i>
            <blockquote>
               This option has been obsoleted. Use <b><big><code>CXX=</code></big></b><i>name</i> and <b><big><code>CXX-options=</code></big></b><i>string</i>
               instead.
            </blockquote>

            <b>CC=</b><i>name</i> <br>
            <b>CC=[</b><i>pathname</i><b>,</b><i>name</i><b>]</b> <br>
            <b>--CC=</b><i>name</i> <br>
            <b>--CC=[</b><i>pathname</i><b>,</b><i>name</i><b>]</b>
            <blockquote>
               Used to specify the name of the C compiler used. For historical
               reasons the leading double-dashes are optional.
            </blockquote>
            <blockquote>
               Note that there are 2 forms accepted for the option's argument:
               <ol>
                  <li> A simple C compiler name such as <i>gcc</i> or <i>icc</i>. This is the
                       name of the C compiler that was used to produce the binaries
                       to be installed. For example:
                       <blockquote>
                          <b><big><code>CC=gcc</code></big></b>
                       </blockquote>
                       In this case the <i>gcc</i> GNU C compiler was used to produce the
                       binaries (executables and libraries). Note that if <i>name</i> has
                       directory components only the basename will be used.
                  </li>
                  <li> A comma separated pair enclosed in square brackets. The first
                       component is the actual pathname of the C compiler that was
                       used to produce the binaries to be installed. The second
                       component is a name by which the compiler will be considered.
                       For example:
                       <blockquote>
                          <b><big><code>CC='[/usr/lib64/ccache/cc,gcc]'</code></big></b>
                       </blockquote>
                       In this case a C compiler with the pathname <b><big><code>/usr/lib64/ccache/cc</code></big></b>
                       was actually used but consider it to be <i>gcc</i>.
                  </li>
               </ol>
            </blockquote>
            <blockquote>
               The first form is really a special case where the basename of the
               <i>pathname</i> is the same as the simple <i>name</i> of the C compiler.
            </blockquote>
            <blockquote>
               This option almost always needs quoting as shown above since the
               square-brackets are considered to have special meaning by the shell.
            </blockquote>

            <b>CC-options=</b><i>string</i> <br>
            <b>--CC-options=</b><i>string</i>
            <blockquote>
               Used to specify the options to be used with the C compiler used.
               Only special options such as the language standard assumed are
               to be specified. Define <b><big><code>-D</code></big></b><i>name</i>, include pathname <b><big><code>-I</code></big></b><i>pathname</i>,
               and library pathname <b><big><code>-L</code></big></b><i>pathname</i> (along with library names) are
               not normally used. The normal compile-only option <b><big><code>-c</code></big></b> is used by
               default. Note that the <i>string</i> of options should be quoted.
               For historical reasons the leading double-dash is optional.
            </blockquote>

            <b>CXX=</b><i>name</i> <br>
            <b>CXX=[</b><i>pathname</i><b>,</b><i>name</i><b>]</b> <br>
            <b>--CXX=</b><i>name</i> <br>
            <b>--CXX=[</b><i>pathname</i><b>,</b><i>name</i><b>]</b>
            <blockquote>
               Used to specify the name of the C++ compiler used. For historical
               reasons the leading double-dashes are optional.
            </blockquote>
            <blockquote>
               Note that there are 2 forms accepted for the option's argument:
               <ol>
                  <li> A simple C++ compiler name such as <i>g++</i> or <i>icpc</i>. This is the
                       name of the C++ compiler that was used to produce the binaries
                       to be installed. For example:
                       <blockquote>
                          <b><big><code>CXX=g++</code></big></b>
                       </blockquote>
                       In this case the <i>g++</i> GNU C++ compiler was used to produce the
                       binaries (executables and libraries). Note that if <i>name</i> has
                       directory components only the basename will be used.
                  </li>
                  <li> A comma separated pair enclosed in square brackets. The first
                       component is the actual pathname of the C++ compiler that was
                       used to produce the binaries to be installed. The second
                       component is a name by which the compiler will be considered.
                       For example:
                       <blockquote>
                          <b><big><code>CC='[/usr/lib64/ccache/c++,g++]'</code></big></b>
                       </blockquote>
                       In this case a C++ compiler with the pathname <b><big><code>/usr/lib64/ccache/c++</code></big></b>
                       was actually used but consider it to be <i>g++</i>.
                  </li>
               </ol>
            </blockquote>
            <blockquote>
               The first form is really a special case where the basename of the
               <i>pathname</i> is the same as the simple <i>name</i> of the C++ compiler.
            </blockquote>
            <blockquote>
               This option almost always needs quoting as shown above since the
               square-brackets are considered to have special meaning by the shell.
            </blockquote>

            <b>CXX-options=</b><i>string</i> <br>
            <b>--CXX-options=</b><i>string</i>
            <blockquote>
               Used to specify the options to be used with the C++ compiler used.
               Only special options such as the language standard assumed are
               to be specified. Define <b><big><code>-D</code></big></b><i>name</i>, include pathname <b><big><code>-I</code></big></b><i>pathname</i>,
               and library pathname <b><big><code>-L</code></big></b><i>pathname</i> (along with library names) are
               not normally used. The normal compile-only option <b><big><code>-c</code></big></b> is used by
               default. Note that the <i>string</i> of options should be quoted.
            </blockquote>

            <b>--contact=</b><i>address</i>
            <blockquote>
               A contact email address. There is no default contact address.
            </blockquote>

            <b>--debug</b> <br>
            <b>--debug</b>=<i>pathname</i>
            <blockquote>
               Produce extra output useful when debugging the <i>mkinstaller</i>
               script itself. Output will be sent to <i>stderr</i> if no pathname
               is provided.
            </blockquote>

            <b>--fill</b>
            <blockquote>
               On Windows-like platforms the underlying <i>NSIS</i> tool will fail
               if it encounters an empty directory to be installed. This
               option works around this limitation by adding a dummy file to
               such directories (named <b><big><code>dummy.txt</code></big></b>). Note that subdirectories
               and symbolic-links don't count when checking if a directory is
               empty.
            </blockquote>
            <blockquote>
               <b>Note:</b> Use of this option isn't necessary on UNIX-like systems.
            </blockquote>

            <b>--follow</b>
            <blockquote>
               Follow symbolic links for directory pathnames to will be
               embedded as tarballs within the generated installer script.
               By default such symbolic links are not permitted.
            </blockquote>
            <blockquote>
               Note that Windows-like systems do not support symbolic-links.
            </blockquote>

            <b>--intermediate-dir=</b><i>name</i> <br>
            <b>version-dir=</b><i>name</i>
            <blockquote>
               Use the given simple name as an intermediate directory name
               (aka. a version directory name) to be added under the PREFIX
               directory pathname as given to the installer at installation
               time in to which the directories will be installed. The
               default is no such intermediate directory, the installations
               will be done in the PREFIX directory as given at installation
               time.
            </blockquote>

            <b>--is-gnu-tar</b>
            <blockquote>
               Assume the <i>tar</i> utility is GNU <i>tar</i> and so supports the <b><big><code>z</code></big></b> option
               (compress). By default the <i>tar</i> utility is located and tested.
            </blockquote>

            <b>--nofill</b>
            <blockquote>
               Don't add a dummy file (named <b><big><code>dummy.txt</code></big></b>) to empty directories.
               See the <b><big><code>--fill</code></big></b> option.
            </blockquote>

            <b>--nofollow</b>
            <blockquote>
               Don't follow symbolic links for directory pathnames to will be
               embedded as tarballs within the generated installer script.
               When such symbolic-links are detected and error message will
               be produced and the script will terminate (after cleaning-up).
               This is the default behavior.
            </blockquote>
            <blockquote>
               Note that Windows-like systems do not support symbolic-links.
            </blockquote>

            <b>--nosha</b>
            <blockquote>
               Don't generate a SHA hash file for the generated script. This
               is the default behaviour.
            </blockquote>

            <b>--nonstd</b>
            <blockquote>
               Don't bother with any search for standard directory names such
               as <b><big><code>bin</code></big></b>, <b><big><code>lib</code></big></b>, or <b><big><code>include</code></big></b>, (see the <b><big><code>--std</code></big></b> option). Instead just
               simply use the directory pathname as given. Note that such a
               search would only done when the given directory pathnames don't
               include those with standard base names as <b><big><code>bin</code></big></b>, <b><big><code>lib</code></big></b>, or <b><big><code>include</code></big></b>.
            </blockquote>

            <b>--not-gnu-tar</b>
            <blockquote>
               Assume the <i>tar</i> utility is not GNU <i>tar</i> and doesn't support the
               <b><big><code>z</code></big></b> option (can't compress). By default the <i>tar</i> utility is located
               and tested.
            </blockquote>

            <b>--os=</b><i>string</i>
            <blockquote>
               The OS on the system on which the installer is being generated.
               This string is encoded in the installer script as an aid in
               determining if the generated script is applicable to the
               system where it is run. The default is to use <b><big><code>uname -s</code></big></b> and
               <b><big><code>uname -r</code></big></b> to determine this string.
            </blockquote>

            <b>--preinstall-bin=</b><i>pathname</i>
            <blockquote>
               The pathname of a binary executable which is to be included
               with the installer's payload. It will be run by the generated
               installer before all of the payload directories have been
               extracted and installed.
            </blockquote>

            <b>--preinstall-perl=</b><i>pathname</i>
            <blockquote>
               The pathname of a Perl script which is to be included with
               the installer's payload. It will be run by the generated
               installer before all of the payload directories have been
               extracted and installed.
            </blockquote>
            <blockquote>
               Such pre-install Perl scripts are not generally supported
               on Windows systems as Perl is not generally found on Windows
               systems.
            </blockquote>

            <b>--preinstall-python=</b><i>pathname</i>
            <blockquote>
               The pathname of a Python script which is to be included with
               the installer's payload. It will be run by the generated
               installer before all of the payload directories have been
               extracted and installed.
            </blockquote>
            <blockquote>
               Such pre-install Python scripts are not generally supported
               on Windows systems as Python is not generally found on Windows
               systems.
            </blockquote>

            <b>--preinstall-sh=</b><i>pathname</i>
            <blockquote>
               The pathname of a Bourne-shell script which is to be included
               with the installer's payload. It will be run by the generated
               installer before all of the payload directories have been
               extracted and installed.
            </blockquote>
            <blockquote>
               Such pre-install Bourne-shell scripts are not generally
               supported on Windows systems as the Bourne-shell is not
               generally found on Windows systems.
            </blockquote>

            <b>--postinstall-bin=</b><i>pathname</i>
            <blockquote>
               The pathname of a binary executable which is to be included
               with the installer's payload. It will be run by the generated
               installer after all of the payload directories have been
               extracted and installed.
            </blockquote>

            <b>--postinstall-perl=</b><i>pathname</i>
            <blockquote>
               The pathname of a Perl script which is to be included with
               the installer's payload. It will be run by the generated
               installer after all of the payload directories have been
               extracted and installed.
            </blockquote>
            <blockquote>
               Such post-install Perl scripts are not generally supported
               on Windows systems as Perl is not generally found on Windows
               systems.
            </blockquote>

            <b>--postinstall-python=</b><i>pathname</i>
            <blockquote>
               The pathname of a Python script which is to be included with
               the installer's payload. It will be run by the generated
               installer after all of the payload directories have been
               extracted and installed.
            </blockquote>
            <blockquote>
               Such post-install Python scripts are not generally supported
               on Windows systems as Python is not generally found on Windows
               systems.
            </blockquote>

            <b>--postinstall-sh=</b><i>pathname</i>
            <blockquote>
               The pathname of a Bourne-shell script which is to be included
               with the installer's payload. It will be run by the generated
               installer after all of the payload directories have been
               extracted and installed.
            </blockquote>
            <blockquote>
               Such post-install Bourne-shell scripts are not generally
               supported on Windows systems as the Bourne-shell is not
               generally found on Windows systems.
            </blockquote>

            <b>--prjnam=</b><i>name</i> <br>
            <b>--project-name=</b><i>name</i>
            <blockquote>
               The name of the project to be installed by the generated
               installer script. There is no default project name.
            </blockquote>

            <b>--prjver=</b><i>A</i><b>.</b><i>B</i>[<b>.</b><i>C</i>[<b>.</b><i>D</i>]][<i>suffix</i>] <br>
            <b>--project-version=</b><i>A</i><b>.</b><i>B</i>[<b>.</b><i>C</i>[<b>.</b><i>D</i>]][<i>suffix</i>]
            <blockquote>
               The version number of the project to be installed by the
               generated installer script. Note that the given version number
               is expected to have 2, 3, or 4 dot-separated numeric components
               and an optional suffix. If the <b><big><code>--project-version</code></big></b> option is used
               then the <b><big><code>--project-name</code></big></b> option must also be used. There is
               no default project version number.
            </blockquote>

            <b>--sha-1</b> <br>
            <b>--sha-160</b> <br>
            <b>--sha-256</b> <br>
            <b>--sha-384</b> <br>
            <b>--sha-512</b>
            <blockquote>
               Generate a SHA hash of the generated script. The hash file
               will have the same name as the generated script but with an
               added <b><big><code>.sha-</code></big></b><i>nnn</i>" suffix (where <i>nnn</i> is one of 1, 256,
               384, or 512). Note that <b><big><code>--sha-1</code></big></b> and <b><big><code>--sha-160</code></big></b> are synonymous.
               It is almost always a good idea to generate such a hash and
               the SHA 256 hash is generally preferred.
            </blockquote>

            <b>--std</b>
            <blockquote>
               If <b>none</b> of the given directory pathnames have basenames such
               as <b><big><code>bin</code></big></b>, <b><big><code>lib</code></big></b>, or <b><big><code>include</code></big></b> then look for immediate subdirectories
               of the given directory pathnames with such basenames. If <b>any</b>
               have such standard base names then replace the given directory
               pathname with all of the immediate subdirectory pathnames. See
               the <b><big><code>--nonstd</code></big></b> option.
            </blockquote>

            <b>-v</b>[<i>digit</i>] <br>
            <b>--verbose</b>[<i>digit</i>]
            <blockquote>
               Operate in a "verbose" mode.
            </blockquote>
            <blockquote>
               Repeating this option increases the amount of output produced.
               Note that the option may end with an optional digit which
               indicates a repetition count. Thus the option: <br>
               <p>
<p>
<pre>
   -v3
</pre>
<p>
               is equavalent to: <br>
               <p>
<p>
<pre>
   -v -v -v
</pre>
            </blockquote>

            <b>-w</b> <i>pathname</i> <br>
            <b>--with-notice=</b><i>pathname</i>
            <blockquote>
               The pathname of a textfile which contains the copyright
               notice that is to be output by the generated installer script
               when the installer's <b><big><code>--copyright</code></big></b> option is used. By default
               the generated installer doesn't support a <b><big><code>--copyright</code></big></b> option.
            </blockquote>

            <b>--with-payload</b>
            <blockquote>
               Include the payload with the generated script. This results
               in a useful installer script that will actually install the
               supplied directories under the indicated prefix directory (see
               the <b><big><code>--prefix=</code></big></b><i>...</i> and the <b><big><code>--intermediate-dir=</code></big></b><i>...</i> options. This
               is the default behavior.
            </blockquote>

            <b>--with-</b><i>name</i><b>-file=</b><i>pathname</i>
            <blockquote>
               A file with the specified <i>pathname</i> is to be included in the
               specified installation directory with the given basename (see
               the <i>pathname</i> description below (actually a parameter) for
               how directories to be installed are to be specified. Note that
               <i>name</i> in the option name is typically something like <b><big><code>bin</code></big></b>,
               <b><big><code>include</code></big></b>, <b><big><code>lib</code></big></b>, ... and like <i>pathname</i> below, may not contain
               any spaces, tabs, or dashes. If such an installation directory
               hasen't been specified then the appropriate work will be done
               so that the installer will have such a directory containing
               the specified file.
            </blockquote>

            <b>--without-payload</b>
            <blockquote>
               Don't include the payload with the generated script. This
               results in an ineffective installer script that won't actually
               install anything. It does however go through much of the other
               parts of the process and so may be an aid when debugging the
               generated installer.
            </blockquote>

            <i>pathname</i>
            <blockquote>
               The pathnames of one or more directories and/or files which will
               be installed in the installation prefix directory at installation
               time (when the generated installer is run). Note that such
               directories may share basenames with other directories (they'll
               be merged) but the basenames of files must be unique (otherwise
               they'd collide in the installation prefix directory). Typical
               directory basenames are: <b><big><code>bin</code></big></b>, <b><big><code>include</code></big></b>, <b><big><code>lib</code></big></b>, ... Typical file
               basenames are: <b><big><code>README</code></big></b>, <b><big><code>LICENSE</code></big></b>, ... Note that at least one such
               directory pathname is required.
            </blockquote>
            <blockquote>
               The basename of this pathname may not contain any spaces, tabs,
               or dashes however the directory component (if any) may.
            </blockquote>
            <blockquote>
               Note that a file pathname is much like a file pathname given
               with a <b><big><code>--with-</code></big></b><i>name</i><b><big><code>-file=</code></big></b><i>pathname</i> option but is to be placed
               in the the top-level installation prefix directory.
            </blockquote>

         </blockquote>
      </blockquote>

      <h3>
         EXAMPLE
      </h3>
      <blockquote>
         The following is an annotated example of the use of <i>mkinstaller</i> by the
         <i>ROSE</i> project to form a binary installer. Note that it is assumed that
         both the <i>boost</i> and <i>ROSE</i> libraries have been built and "installed" on
         this (host) system.
      </blockquote>
      <blockquote>
         Assuming:
         <blockquote>
           Unix-like environment
         </blockquote>
         <blockquote>
            <i>mkinstaller</i> installed under  <b><big><code>/opt/totebag/bin</code></big></b>
            and <b><big><code>/opt/totebag/lib</code></big></b>
         </blockquote>
         <blockquote>
            <i>Boost</i> installed in <b><big><code>/opt/boost/include</code></big></b>
            and <b><big><code>/opt/boost/lib</code></big></b>
         </blockquote>
         <blockquote>
            <i>ROSE</i> installed in <b><big><code>/opt/ROSE/bin</code></big></b>
            and <b><big><code>/opt/ROSE/include</code></big></b>
            and <b><big><code>/opt/ROSE/lib</code></big></b>
            and <b><big><code>/opt/ROSE/share</code></big></b>
         </blockquote>
         Example command:
         <blockquote>
<pre>
/opt/totebag/bin/mkinstaller -v2 \
                             -c ROSE-rh6-4.8.5-installer \
                             CC=gcc \
                             CXX=g++ \
                             /opt/boost/{include,lib} \
                             /opt/ROSE/{bin,include,lib,share} \
                             --postinstall-perl=/opt/totebag/lib/mkinstaller/rose-post-install
</pre>
         </blockquote>
         Annotated command:
         <blockquote>
            From the above example command:
            <blockquote>
<pre>
-v2 \
</pre>
            </blockquote>
            The <b><big><code>-v2</code></big></b> option indicates (enhanced) verbose output is desired.
            Note that verbose output is generally benificial. Also note that
            the trailing backslash was the continuation mark from the above
            very long command above (an honest cut/paste), it is not part
            of this option or any of the following options and parameters.
            <blockquote>
<pre>
-c ROSE-rh6-4.8.5-installer \
</pre>
            </blockquote>
            The <b><big><code>-c</code></big></b> <i>name</i> option is used to give a meaningful name to the
            generated installer. Note that the generated installer (a
            Bourne-shell script) will end-up in the current directory. It is
            suggested (but not required) that the <i>mkinstaller</i> command be run
            from an empty directory.
            <blockquote>
<pre>
CC=gcc \
</pre>
            </blockquote>
            Used to specify the name of the C compiler. Note that this is just
            the compiler name, not a pathname. This will encode information
            in the generated installer that indicates how the binaries to be
            installed were built. Not really an option, it is required.
            <blockquote>
<pre>
CXX=g++ \
</pre>
            </blockquote>
            Used to specify the name of the C++ compiler. Note that this is
            just the compiler name, not a pathname. This will be encoded
            in the generated installer that indicates how the binaries to be
            installed were built.
            <blockquote>
<pre>
/opt/boost/{include,lib} \
</pre>
            </blockquote>
            The pathnames where the <i>boost</i> headers and libraries were installed
            when they were built. Note that the example uses a curious form
            of wildcard notation. It actually expands to 2 separate directory
            pathnames: <b><big><code>/opt/boost/include</code></big></b> and <b><big><code>/opt/boost/lib</code></big></b>
            <blockquote>
<pre>
/opt/ROSE/{bin,include,lib,share} \
</pre>
            </blockquote>
            The pathnames where the various <i>ROSE</i> executables, headers, and
            libraries were installed when they were built. This actually expands
            to 4 separate directory pathnames: <b><big><code>/opt/ROSE/bin</code></big></b> <b><big><code>/opt/ROSE/include</code></big></b>
            <b><big><code>/opt/ROSE/lib</code></big></b> and <b><big><code>/opt/ROSE/share</code></big></b>
            <blockquote>
<pre>
--postinstall-perl=/opt/totebag/lib/mkinstaller/rose-post-install
</pre>
            </blockquote>
            The <b><big><code>--postinstall-perl=</code></big></b><i>pathname</i> option indicates the pathname of
            a Perl script (a file) which is to be carried in the generated
            installer. Once all of the directories have been put in place during
            the installation this script will be executed. Note that a <i>ROSE</i>
            specific post-install Perl script is included with <i>mkinstaller</i>.
            </blockquote>
         </blockquote>
      </blockquote>

      <h3>
         RETURNS
      </h3>
      <blockquote>
         <i>mkinstaller</i> returns the standard exit codes:
         <blockquote>
            <table border=0><smaller>
               <tr>
                  <td align=right>0</td>
                  <td align=left>--</td>
                  <td align=left>success</td>
               </tr>
               <tr>
                  <td align=right>1</td>
                  <td align=left>--</td>
                  <td align=left>failure</td>
               </tr>
            </table>
         </blockquote>
      </blockquote>

      <h3>
         ENVIRONMENT
      </h3>
      <blockquote>
         <i>mkinstaller</i> refers to the following environment variables:
         <blockquote>

            <b>DEBUG</b> <br>
            <b>DEBUG_mkinstaller</b>
            <blockquote>
               This environment variable controls the production of additional
               output intended as an aid in debugging the script itself. When
               set to a non-zero integer value additional output will be
               generated and sent to <i>stderr</i>. If set to a pathname additional
               output will sent to a file with the given pathname. If set to
               a value of 0 (zero) or left unset then no additional debugging
               output will be produced.
            </blockquote>

            <b>INEFFECTIVE_mkinstaller</b>
            <blockquote>
               If this environment variable has been set then the generated
               script will lack a payload and may not even be runable. Note
               that this feature is almost never used except when debugging
               the script generation process.
            </blockquote>

            <b>MKINSTALLER_TMPDIR</b>
            <blockquote>
               Consider this pathname before considering TMPDIR (see
               step (0) in the <b>NOTES</b> section below).
            </blockquote>

         </blockquote>
      </blockquote>

      <h3>
         IMPLEMENTATION
      </h3>
      <blockquote>
         <i>mkinstaller</i> is implemented as a Perl script.
      </blockquote>

      <h3>
         SEE&nbsp;ALSO
      </h3>
      <blockquote>
         Note that the following tools may be used by <i>mkinstaller</i>:
         <blockquote>
            cp(1), <br>
            fgrep(1), <br>
            gzcat(1), <br>
            gzip(1), <br>
            ldd(1), <br>
            <a href="http://nsis.sourceforge.net/Docs/Chapter3.html#">makensis</a>(1), <br>
            <a href="http://nsis.sourceforge.net/Main_Page">NSIS</a>, <br>
            <a href="../html1/pshaw.html">pshaw</a>(<a href="../html1/index.html">1x</a>), <br>
            sh(1), <br>
            sha1sum(1), <br>
            sha256sum(1), <br>
            sha384sum(1), <br>
            sha512sum(1), <br>
            strings(1), <br>
            tar(1), <br>
            uname(1)
         </blockquote>
         Some of these may be required and if not found <i>mkinstaller</i> may
         fail with an error message.
      </blockquote>

      <h3>
         NOTES
      </h3>
      <blockquote>
         The directory where temporary files are to be placed is determined
         as follows:
         <blockquote>
            <ol start="0">
               <li>If <b><big><code>MKINSTALLER_TMPDIR</code></big></b> is defined and is not empty then
                   consider its value as a directory pathname. If this pathname
                   exists and is a directory and is writable then temporary
                   files will be placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>TMPDIR</code></big></b> is defined and is not empty then consider its
                   value as a directory pathname. If this pathname exists
                   and is a directory and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>TMP</code></big></b> is defined and is not empty then consider its
                   value as a directory pathname. If this pathname exists
                   and is a directory and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>TEMP</code></big></b> is defined and is not empty then consider its
                   value as a directory pathname. If this pathname exists
                   and is a directory and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If the user's home directory can be determined and if
                   this home directory contains a subdirectory named <b><big><code>tmp</code></big></b>
                   that is itself writable then temporary files will be
                   placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>C:</code></big></b><i>userProfile</i><b><big><code>\AppData\Local\temp</code></big></b> exists and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>/tmp</code></big></b> exists and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>/var/tmp</code></big></b> exists and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>C:\Temp</code></big></b> exists and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If <b><big><code>C:\Windows\Temp</code></big></b> exists and is writable then temporary files
                   will be placed in this directory. Otherwise...
               </li>
               <li>If the current directory is writable then temporary
                   files will be placed in the current directory.
                   Otherwise...
               </li>
               <li>A fatal error message will be sent to <i>stderr</i> and
                   the script will exit with a non-zero exit code.
               </li>
            </ol>
         </blockquote>
         Note that 5, 8, and 9 are only applicable on Windows-like hosts.
      </blockquote>

      <h3>
         DETAILS
      </h3>
      <blockquote>
         The installer construction process is implemented in a different
         fashion on UNIX-like systems such as Linux, MacOS, and Solaris
         from that on a Windows-like system. The <i>mkinstaller</i> command line
         use is identical between UNIX- and Windows-like hosts.
      </blockquote>

      <blockquote>
         <b>UNIX-like Host</b>
         <blockquote>
            On a UNIX-like host the generated installer script is implemented
            as a self-extracting Bourne-shell script carrying a tarball as
            a payload.
         </blockquote>
         <blockquote>
            <b>Details of the installer construction process on UNIX:</b>
            <blockquote>
               Aside from initalization and command line processing the UNIX
               implementation of <i>mkinstaller</i> goes through the following steps:
               <ol>
                  <li>Determination of a suitable temp directory. Much of the work
                      done by the <i>mkinstaller</i> script is done in a temp directory.
                  </li>
                  <li>Creation of a top level temporary directory under which all
                      other temporaries will be created. Creation of an "accumulator",
                      an "intermediate" and a "wrapper" directory in the top level
                      temp directory. A tarup/untar process will use both the
                      "intermediate" and "accumulator" directories to merge given
                      directories with the same basename. The "wrapper" directory
                      will be used to carry the individual directory tarballs.
                  </li>
                  <li>From each of the specified directories to be installed such
                      as .../bin, .../lib, specified on the <i>mkinstaller</i> command line
                      tarup the individual directory forming tarballs in the wrapper
                      directory in the temp directory.
                  </li>
                  <li>Tarup the temporary wrapper directory for eventual inclusion
                      in the generated installer.
                  </li>
                  <li>Generate the text of the "installer" script in the temporary
                      directory customizing it with with options for specifying an
                      overall prefix directory and individual prefixes for each of
                      the directories specified on the <i>mkinstaller</i> command line.
                  </li>
                  <li>Add the tarball built in (4) to the end of the script generated
                      in (5) forming the distribution self-extracting installation
                      script in the directory where <i>mkinstaller</i> was run.
                  </li>
                  <li>Cleanup.
                  </li>
               </ol>
               In the end the only product is the desired distribution self-
               extracting installation script in the directory where the
               <i>mkinstaller</i> command was run. Everything else produced along
               the way (directories and files) is considered temporary and
               is destroyed.
            </blockquote>
            <blockquote>
               Note that the name of the generated installer script is specified
               using the <b><big><code>-c</code></big></b> <i>name</i> or <b><big><code>--create=</code></big></b><i>name</i> option to mkinstaller.
               However if the <b><big><code>-c</code></big></b> <i>name</i> or <b><big><code>--create=</code></big></b><i>name</i> option is not used
               then <i>mkinstaller</i> will try to come-up with a reasonable name:
               <blockquote>
                  <ol>
                     <li>If the <b><big><code>--project-name=</code></big></b><i>name</i> and <b><big><code>--project-version=</code></big></b><i>version</i>
                         was used then the name of the generated installer will resemble:
                         <blockquote>
                            <i>name</i><b><big><code>-</code></big></b><i>version</i><b><big><code>-installer</code></big></b>
                         </blockquote>
                     </li>
                     <li>If the <b><big><code>--project-name=</code></big></b><i>name</i> was used but not the
                         <b><big><code>--project-version</code></big></b> option the name of the generated
                         installer will resemble:
                         <blockquote>
                            <i>name</i><b><big><code>-installer</code></big></b>
                         </blockquote>
                     </li>
                     <li>If neither the <b><big><code>--project-name</code></big></b> nor the <b><big><code>--project-version</code></big></b>
                         option the name of the generated installer will be:
                         <blockquote>
                            <b><big><code>installer</code></big></b>
                         </blockquote>
                     </li>
                  </ol>
               </blockquote>
               As is typical for a UNIX-like environment, the generated script
               has no extension.
            </blockquote>
            <b>How the generated installer script works on a UNIX-like target:</b>
            <blockquote>
               <ol>
                  <li>The installer script locates itself. This may seem to be an
                      obvious and or silly question but the actual location of the
                      script file is necessary for the actual extraction (the script
                      file must be read by the standard <i>tail</i> utility).
                  </li>
                  <li>Determination of a suitable temp directory. Much of the work
                      done by the generated installer script is done in a temp
                      directory. Creation of a top level temporary directory under
                      which all other temporaries will be created. This temp
                      directory is created under the standard temp directory
                      determined at the start of this step (see NOTES).
                  </li>
                  <li><b><big><code>PREFIX</code></big></b> and <b><big><code>PREFIX_</code></big></b><i>xxx</i> values are established from command
                      line options. If appropriate options aren't supplied to
                      install all directories then the installer script will propmpt
                      for the necessary pathname(s). The installer script will
                      create the directories if necessary.
                  </li>
                  <li>The tarball embedded in the installer script is extracted from
                      the installer script into the temp directory created in (2).
                  </li>
                  <li>The tarball in (4) is unwrapped revealing one or more tarballs
                      (one for each installation directory such as <b><big><code>bin.tar.gz</code></big></b>
                      <b><big><code>include.tar.gz</code></big></b> <b><big><code>lib.tar.gz</code></big></b> ...). If a pre-install script was
                      supplied to <i>mkinstaller</i> when the generated installer script
                      was produced then it will be revealed at this time. Similarly
                      if a post-install script was supplied to <i>mkinstaller</i> when the
                      generated installer script was produced then it will also be
                      revealed at this time. Note that neither of these scripts if
                      supplied and revealed are actually executed in this step. See
                      steps (6) and (8).
                  </li>
                  <li>If (5) revealed a pre-install script then it will be executed
                      by the approptiate interpreter. Note that each of the <b><big><code>PREFIX</code></big></b>
                      and/or <b><big><code>PREFIX_</code></big></b><i>xxx</i> directories will be supplied as an option to
                      this pre-install script (such as  <b><big><code>--prefix_bin=</code></big></b><i>pathname</i>). Also
                      note at this time the individual tarballs representing the
                      directories to install have NOT be unwrapped.
                  </li>
                  <li>Each individual tarball revealed (5) is unwrapped into the
                      approperiate <b><big><code>PREFIX</code></big></b> directory overlying anything already
                      there.
                  </li>
                  <li>If (5) revealed a post-install script then it will be executed
                      by the approptiate interpreter. Note that each of the <b><big><code>PREFIX</code></big></b>
                      directories will be supplied as an option to this post-install
                      script (such as <b><big><code>--prefix_bin=</code></big></b><i>pathname</i>).
                  </li>
                  <li>Cleanup.
                  </li>
               </ol>
            </blockquote>
         </blockquote>
         <b>Windows-like host</b>
         <blockquote>
            On a Windows-like host (such as Windows 7 or 10) the generated
            installer is implemented as a binary executable which is actually
            generated under the covers by <i>NSIS</i> (the Nullsoft Scripted Install).
            System). <i>NSIS</i> is open source and is freely available at:
            <blockquote>
               <a href="https://sourceforge.net/projects/nsis"><b><big><code>https://sourceforge.net/projects/nsis</code></big></b></a>
            </blockquote>
            <b>Details of the installer construction process on Windows:</b>
            <blockquote>
               Aside from initalization and command line processing the Windows
               implementation of <i>mkinstaller</i> goes through the following steps:
               <ol>
                  <li>Determination of a suitable temp directory. Much of the work
                      done by the <i>mkinstaller</i> script is done in a temp directory.
                  </li>
                  <li>Generation of a <b><big><code>.nsi</code></big></b> script file.
                  </li>
                  <li><i>MakeNSIS</i> is used to "compile" the <b><big><code>.nsi</code></big></b> script forming a
                      <b><big><code>.exe</code></big></b> binary executable.
                  </li>
               </ol>
               The <b><big><code>.exe</code></big></b> binary executable formed in step (3) is the product of the
               <i>mkinstaller</i> script and may be shipped to customers to perform the
               desired installation on their Windows system.
            </blockquote>
            <blockquote>
               Note that the name of the installer is specified using the <b><big><code>-c</code></big></b> <i>name</i>
               or <b><big><code>--create=</code></big></b><i>name</i> option to <i>mkinstaller</i>. However if the <b><big><code>-c</code></big></b> <i>name</i>
               or <b><big><code>--create=</code></big></b><i>name</i> option is not used then <i>mkinstaller</i> will try
               to come-up with a reasonable name:
               <blockquote>
                  <ol>
                     <li>If the <b><big><code>--project-name=</code></big></b><i>name</i> and <b><big><code>--project-version=</code></big></b><i>version</i>
                         was used then the name of the generated installer will resemble:
                         <blockquote>
                            <i>name</i><b><big><code>-</code></big></b><i>version</i><b><big><code>-installer.exe</code></big></b>
                         </blockquote>
                     </li>
                     <li>If the <b><big><code>--project-name=</code></big></b><i>name</i> was used but not the
                         <b><big><code>--project-version</code></big></b> option the name of the generated
                         installer will resemble:
                         <blockquote>
                            <i>name</i><b><big><code>-installer.exe</code></big></b>
                         </blockquote>
                     </li>
                     <li>If neither the <b><big><code>--project-name</code></big></b> nor the <b><big><code>--project-version</code></big></b>
                         option the name of the generated installer will be:
                         <blockquote>
                            <b><big><code>installer.exe</code></big></b>
                         </blockquote>
                     </li>
                  </ol>
               </blockquote>
               If the name is specified using the <b><big><code>-c</code></big></b> <i>name</i> or <b><big><code>--create=</code></big></b><i>name</i>
               option then the name should NOT included a <b><big><code>.exe</code></big></b> extension. The
               <i>makensis</i> tool which actually produces the binary executable
               will add the necessary extension.
            </blockquote>
            <b>Running the generated installer on a Windows target system:</b>
            <blockquote>
               The default use of the generated installer will produce a new
               directory on the user's desktop.
               <blockquote>
                  circus> <b><big><code>installer.exe</code></big></b>
               </blockquote>
               A different prefix may be specified using the <b><big><code>/D</code></big></b> option:
               <blockquote>
                  circus> <b><big><code>installer.exe /D=E:\opt\banana</code></big></b>
               </blockquote>
               Note that the prefix directory will be creates as necessary
               however the uninstaller will only (recursively) delete the
               final directory component. In the above example only
               <b><big><code>E:\opt\banana</code></big></b> will be (recursivly deleted, but the
               directory <b><big><code>E:\opt</code></big></b> will be left intact.
            </blockquote>
            <blockquote>
               Note that the generated installer will pop-up a progress bar dialog
               box to indicate the installation progress. The above examples were
               run by bozo on circus.other.net
            </blockquote>
         </blockquote>
      </blockquote>

      <h3>
         AUTHOR
      </h3>
      <blockquote>
         <a href="mailto:jim.reus@gmail.com?subject=mkinstaller">Jim Reus</a> <br>
      </blockquote>

      <h3>
         CONTACT
      </h3>
      <blockquote>
         Please contact: <br>
         <blockquote>
            <a href="mailto:totebag.help@gmail.com?subject=Help: mkinstaller">totebag.help</a> with questions. <br>
            <br>
            <a href="mailto:totebag.bugs@gmail.com?subject=Bug: mkinstaller">totebag.bugs</a> to report problems. <br>
            <br>
            <a href="mailto:totebag.more@gmail.com?subject=Enhance: mkinstaller">totebag.more</a> to request enhancements. <br>
            <br>
         </blockquote>
         Be sure to provide as much information as possible.
      </blockquote>

      <h3>
         <center>
            <nobr>
               mkinstaller (rev. 2.5.4)
            </nobr>
         </center>
      </h3>

      <i>This man page was generated by mkinstaller 2.5.4 using the <code>--html</code> option. Revised 21Jun2019,16:47:49z</i>
   </body>
</html>
